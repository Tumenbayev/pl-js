<!DOCTYPE html>
<html>
	<head>
		<title>pl-js</title>
	
		<script type="text/javascript" src="./pl.js"></script>
	</head>
	<body>
		<p>See output in console.</p>
		<script type="text/javascript">
		// Работа с массивами
		
		// Задаём массив со всеми возможными словоформами:
		var pattern = ['%d штука', '%d штуки', '%d штук', '%d штуки'];

		// А теперь получаем строку с корректной словоформой:
		console.log(pattern.pl(1));
		// 1 штука

		console.log(pattern.pl(5));
		// 5 штук
		console.log(pattern.pl(2.5));
		// 2.5 штуки

		
		
		// Работа с числами
		
		// Задаём точно такой же массив, как и в предыдущем примере:
		var pattern = ['%d штука', '%d штуки', '%d штук', '%d штуки'];

		// Получаем строку:
		console.log(1..pl(pattern));
		// 1 штука

		console.log(2.5.pl(pattern));
		// 2.5 штуки

		// В данном примере вместо массива можно использовать строку:
		var pattern = '{%d штука|%d штуки|%d штук|%d штуки}';
		console.log(4..pl(pattern));
		// 4 штуки


		
		// Работа со строками
		
		// Со строками можно работать инлайново:
		console.log('С территории военной части вынесли {%d гранату|%d гранаты|%d гранат|%d гранаты}'.pl(3));
		// С территории военной части вынесли 3 гранаты

		// Можно использовать несколько чисел:
		console.log('С территории военной части вынесли {%d гранату|%d гранаты|%d гранат|%d гранаты} и {%d автомат|%d автомата|%d автоматов|%d автомата}'.pl(3, 5));
		// С территории военной части вынесли 3 гранаты и 5 автоматов

		// Можно использовать шаблоны:
		var patterns = {grenades: ['%d гранату', '%d гранаты', '%d гранат', '%d гранаты'], machineguns: ['%d автомат', '%d автомата', '%d автоматов', '%d автомата']};
		console.log('С территории военной части вынесли {grenades} и {machineguns}'.pl(3, 5, patterns));
		// С территории военной части вынесли 3 гранаты и 5 автоматов
		</script>
	</body>
</html>